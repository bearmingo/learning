## 工具

## nsenter

nsenter 是一款可以进入进程的名称空间中。例如，如果一个容器以非 root 用户身份运行，而使用 docker exec 进入其中后，但该容器没有安装 sudo 或未 netstat ，并且您想查看其当前的网络属性，如开放端口，这种场景下将如何做到这一点？**_nsenter_** 就是用来解决这个问题的。
**nsenter** (_namespace enter_) 可以在容器的宿主机上使用 _nsenter_ 命令进入容器的命名空间，以容器视角使用宿主机上的相应网络命令进行操作。当然需要拥有 _root_ 权限

## mtr

**mtr** 是一个跨平台的网络诊断工具，将 **traceroute** 和 **ping** 的功能结合到一个工具。与 _traceroute_ 不同的是 _mtr_ 显示的信息比起 _traceroute_ 更加丰富：通过 _mtr_ 可以确定网络的条数，并且可以同时打印响应百分比以及网络中各跳跃点的响应时间。

## 几个技巧

### 获取POD通过NAT后的节点上的端口


```bash
cat /proc/net/nf_conntrack | grep 52280
```
