
# 变量的默认值

Bash 提供四个特殊语法，跟变量的默认值有关，目的是保证变量不为空。

## ${var:-word}

如果变量`var` 存在且不为空，则返回他的值，否则返回`word`。它的目的是返回一个默认值，比如`${count:-0}`表示变量 `count` 不存在时返回 `0`。

## ${var:=word}

如果变量 `var` 存在且不为空，则返回它的值，否则**将它设置为`word`**，并返回 `word` 。比如 `${count:=0}` 表示变量`count` 不存在时返回`0`，且将`count`设为`0`。

## ${var:+word}

如果**变量名**存在且不为空，则返回 `word`，否则返回空值。它的目的是测试变量是否存在，比如`${count:+1}`表示变量`count`存在时返回1（表示`true`），否则返回空值。

## ${var:?message}

如果变量 `var` 存在且不为空，则返回它的值，否则打印出`var: message`，并中断脚本的执行。如果省略了`message`，则输出默认的信息“parameter null or not set.”。它的目的是防止变量未定义，比如`${count:?"undefined!"}` 表示变量`count` 未定义时就中断执行，抛出错误，返回给定的报错信息`undefined!`。

# 参考

[变量的默认值](https://books.sangniao.com/manual/2242791532/1108520167)